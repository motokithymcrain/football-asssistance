<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F.I.T. Football Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #f3f4f6; /* bg-gray-100 */
        }
        .sidebar {
            transition: transform 0.3s ease-in-out;
        }
        .main-content {
            transition: margin-left 0.3s ease-in-out;
        }
        /* Chart Container Styling */
        .chart-container { 
            position: relative; 
            width: 100%; 
            max-width: 600px; 
            margin-left: auto; 
            margin-right: auto; 
            height: 300px; /* Base height */
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container { 
                height: 350px; 
            }
        }
        .menu-item.active {
            background-color: #4f46e5; /* indigo-600 */
            color: white;
        }
    </style>
</head>
<body class="min-h-screen">

    <button id="menu-toggle" class="lg:hidden fixed top-4 left-4 p-2 bg-indigo-600 text-white rounded-md z-50 shadow-lg">
        ☰
    </button>

    <aside id="sidebar" class="sidebar fixed top-0 left-0 h-full w-64 bg-gray-900 text-white p-4 z-40 lg:translate-x-0 -translate-x-full">
        <h2 class="text-2xl font-bold mb-8 text-center text-indigo-400">Football Assistance</h2>
        <div class="space-y-2">
            <h3 class="text-xs font-semibold uppercase text-gray-400 mb-2">MENU [cite: 9]</h3>
            <button class="menu-item active w-full text-left p-3 rounded-lg flex items-center space-x-2" data-section="profile">
                <span>👤</span><span>プロファイル [cite: 3, 11]</span>
            </button>
            <button class="menu-item w-full text-left p-3 rounded-lg flex items-center space-x-2" data-section="team">
                <span>⚽</span><span>チーム [cite: 4, 23]</span>
            </button>
            <button class="menu-item w-full text-left p-3 rounded-lg flex items-center space-x-2" data-section="training">
                <span>🏃</span><span>トレーニング [cite: 5, 35]</span>
            </button>
            <button class="menu-item w-full text-left p-3 rounded-lg flex items-center space-x-2" data-section="review">
                <span>📊</span><span>振り返り [cite: 6, 37]</span>
            </button>
            <button class="menu-item w-full text-left p-3 rounded-lg flex items-center space-x-2" data-section="presentation">
                <span>💻</span><span>プレゼンテーション [cite: 7, 74]</span>
            </button>
            <button class="menu-item w-full text-left p-3 rounded-lg flex items-center space-x-2" data-section="opponent">
                <span>⚔️</span><span>対戦相手 [cite: 8, 72]</span>
            </button>
        </div>
    </aside>

    <div id="main-content" class="main-content lg:ml-64 p-4 md:p-8">
        
        <header class="flex items-center justify-between bg-white p-4 rounded-xl shadow-md mb-8">
            <div class="flex items-center space-x-4">
                <div class="w-10 h-10 md:w-14 md:h-14 bg-gray-200 rounded-full flex items-center justify-center text-xl">
                    <img src="https://upload.wikimedia.org/wikipedia/en/thumb/7/7a/Manchester_United_FC_crest.svg/100px-Manchester_United_FC_crest.svg.png" alt="Team Logo" class="w-full h-full object-contain p-1">
                </div>
                <div>
                    <h1 class="text-xl md:text-3xl font-bold">Kengo Oda</h1>
                    <p class="text-sm text-gray-500">所属チーム: MNU [cite: 13, 18]</p>
                </div>
            </div>
        </header>

        <div id="content-area">
            <section id="profile" class="section-content">
                <h2 class="text-3xl font-bold mb-6 text-gray-800">👤 プロファイル詳細</h2>
                <p class="mb-6 text-gray-600">あなたの基本的な情報と、プレーヤーとしての特性を把握します。これらの情報はチーム分析やAIアドバイスの基盤となります。</p>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-1 bg-white p-6 rounded-xl shadow-md h-full">
                        <h3 class="text-xl font-semibold mb-4 border-b pb-2 text-indigo-600">基本データ</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center text-gray-700"><span class="font-medium w-1/3">背番号</span><span class="font-bold text-lg w-2/3 text-right">7 [cite: 66, 68]</span></div>
                            <div class="flex justify-between items-center text-gray-700"><span class="font-medium w-1/3">ポジション</span><span class="w-2/3 text-right">CB (センターバック) [cite: 15, 19]</span></div>
                            <div class="flex justify-between items-center text-gray-700"><span class="font-medium w-1/3">好きな選手</span><span class="w-2/3 text-right">Moriyasu hajime [cite: 17, 22]</span></div>
                        </div>
                    </div>

                    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md">
                        <h3 class="text-xl font-semibold mb-4 border-b pb-2 text-indigo-600">強みと弱み</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="font-bold text-gray-700 mb-2">強み [cite: 20]</h4>
                                <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                                    <li>フィジカル (Physical) [cite: 16]</li>
                                    <li>パス (Pass) [cite: 16]</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-bold text-gray-700 mb-2">弱み [cite: 21]</h4>
                                <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                                    <li>テクニック (Technic) [cite: 14]</li>
                                    <li>*その他の未公開情報*</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="mt-8">
                            <h4 class="font-bold text-gray-700 mb-4">スキル比較 (イメージ)</h4>
                            <div class="chart-container">
                                <canvas id="skillChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="team" class="section-content hidden">
                <h2 class="text-3xl font-bold mb-6 text-gray-800">⚽ チーム分析</h2>
                <p class="mb-6 text-gray-600">現在のチームの戦術、スタイル、メンバー構成を分析し、最適な戦略を検討します。</p>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md">
                        <h3 class="text-xl font-semibold mb-4 border-b pb-2 text-indigo-600">チーム戦術</h3>
                        <div class="space-y-4">
                            <div>
                                <p class="text-lg font-bold text-gray-700">現在のフォーメーション [cite: 26]</p>
                                <p class="text-3xl text-indigo-600 font-extrabold ml-4">4-2-2-2 [cite: 25]</p>
                            </div>
                            <div>
                                <p class="text-lg font-bold text-gray-700">チームスタイル [cite: 31]</p>
                                <p class="text-gray-600 ml-4">xxxxxxxxxxxxxxxxx [cite: 29, 30]</p>
                            </div>
                            <div>
                                <p class="text-lg font-bold text-gray-700">メンバーの主な特徴 [cite: 27]</p>
                                <p class="text-gray-600 ml-4">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx [cite: 28]</p>
                            </div>
                        </div>
                    </div>

                    <div class="lg:col-span-1 bg-white p-6 rounded-xl shadow-md h-full">
                        <h3 class="text-xl font-semibold mb-4 border-b pb-2 text-indigo-600">AIに相談 [cite: 32]</h3>
                        <p class="text-sm text-gray-500 mb-4">メンバーの強みを考慮した最適なフォーメーションについてAIに提案を求めます。</p>
                        <div class="space-y-3">
                            <label for="ai-team-query" class="block text-sm font-medium text-gray-700">質問例:</label>
                            <input type="text" id="ai-team-query" value="メンバーの強みから考える最適なフォーメーションは？" [cite: 33, 34] class="w-full border border-gray-300 p-2 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                            <button onclick="simulateAIResponse('team')" class="w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 transition">AIに質問</button>
                        </div>
                        <div id="ai-team-response" class="mt-4 p-3 bg-gray-50 border border-gray-200 rounded-md text-sm hidden"></div>
                    </div>
                </div>
            </section>
            
            <section id="training" class="section-content hidden">
                <h2 class="text-3xl font-bold mb-6 text-gray-800">🏃 トレーニング管理</h2>
                <p class="mb-6 text-gray-600">このセクションでは、個人の弱みを克服するためのAI推奨トレーニングプランや、日々のトレーニングログを管理します。（このページではコンセプト提示のため、入力機能のシミュレーションのみ行います。）</p>

                <div class="bg-white p-6 rounded-xl shadow-md">
                    <h3 class="text-xl font-semibold mb-4 border-b pb-2 text-indigo-600">AI推奨トレーニング</h3>
                    <div class="space-y-3">
                        <label for="ai-training-query" class="block text-sm font-medium text-gray-700">質問例:</label>
                        <input type="text" id="ai-training-query" value="テクニックの弱みを克服するためのトレーニングメニューは？" class="w-full border border-gray-300 p-2 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        <button onclick="simulateAIResponse('training')" class="w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 transition">AIに作成依頼</button>
                    </div>
                    <div id="ai-training-response" class="mt-4 p-3 bg-gray-50 border border-gray-200 rounded-md text-sm hidden"></div>
                </div>
            </section>

            <section id="review" class="section-content hidden">
                <h2 class="text-3xl font-bold mb-6 text-gray-800">📊 試合の振り返り</h2>
                <p class="mb-6 text-gray-600">試合を振り返り、**思考力・一瞬の判断**を客観的な視点から鍛えます [cite: 63, 64]。あなたの役割と強化すべきスキルをAIが提示します [cite: 39, 40, 41]。</p>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-1 space-y-6">
                        <div class="bg-white p-6 rounded-xl shadow-md">
                            <h3 class="text-xl font-semibold mb-4 border-b pb-2 text-indigo-600">強化すべきスキル</h3>
                            <ul id="suggestedSkills" class="space-y-2 text-gray-700 list-disc list-inside">
                                <li>・A：xxxxxxxxxxxxxxxxxxxxxxx [cite: 58]</li>
                                <li>・C：xxxxxxxxxxxxxxxxxxxxxxx [cite: 59]</li>
                            </ul>
                            <div class="mt-6 pt-4 border-t border-gray-100">
                                <button onclick="simulateAIResponse('skill_menu')" class="w-full bg-green-500 text-white py-2 rounded-md hover:bg-green-600 transition">おすすめのトレーニングメニューを作成して [cite: 60, 61, 62]</button>
                            </div>
                            <div id="ai-skill_menu-response" class="mt-4 p-3 bg-gray-50 border border-gray-200 rounded-md text-sm hidden"></div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-md">
                            <h3 class="text-xl font-semibold mb-4 border-b pb-2 text-indigo-600">特定のシーンのAI分析</h3>
                            <p class="text-sm text-gray-500 mb-4">試合中の特定の時間における最適な判断をAIに尋ねます。</p>
                            <div class="flex space-x-2">
                                <input type="text" id="ai-scene-query" value="○○分での最適な判断は何か教えて" [cite: 43, 44] class="w-full border border-gray-300 p-2 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                <button onclick="simulateAIResponse('scene')" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition flex-shrink-0">質問</button>
                            </div>
                            <div id="ai-scene-response" class="mt-4 p-3 bg-gray-50 border border-gray-200 rounded-md text-sm hidden"></div>
                        </div>
                    </div>

                    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md">
                        <h3 class="text-xl font-semibold mb-4 border-b pb-2 text-indigo-600">試合ログ & 反省点</h3>
                        <div class="flex justify-between items-center mb-4 text-sm font-medium">
                            <span>日付: <span class="text-indigo-600">YY/MM/DD [cite: 65, 67]</span></span>
                            <button class="text-indigo-600 hover:text-indigo-800">動画ファイルをアップロード [cite: 69]</button>
                        </div>

                        <div class="space-y-6">
                            <div class="p-4 bg-gray-50 border border-gray-200 rounded-lg">
                                <h4 class="font-bold text-gray-800 mb-2">シーンとあなたの思考 [cite: 71]</h4>
                                <p class="text-sm text-gray-600">xxxxxxxxxx [cite: 70]</p>
                            </div>

                            <div class="overflow-x-auto">
                                <table class="min-w-full text-sm text-gray-600">
                                    <thead>
                                        <tr class="bg-gray-100 border-b">
                                            <th class="p-2 text-left">選手</th>
                                            <th class="p-2 text-left">評価 A</th>
                                            <th class="p-2 text-left">評価 B</th>
                                            <th class="p-2 text-left">評価 C</th>
                                            <th class="p-2 text-left">評価 D</th>
                                            <th class="p-2 text-left">評価 E</th>
                                        </tr>
                                    </thead>
                                    <tbody id="player-stats-body">
                                        </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="presentation" class="section-content hidden">
                <h2 class="text-3xl font-bold mb-6 text-gray-800">💻 プレゼンテーション作成</h2>
                <p class="mb-6 text-gray-600">次の試合に向けて、監督に提示しチームの意識統一を図るための資料を作成します [cite: 79, 80, 81]。</p>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md">
                        <h3 class="text-xl font-semibold mb-4 border-b pb-2 text-indigo-600">次の試合の戦略概要</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between text-lg font-medium text-gray-700">
                                <span class="w-1/3">次の試合相手:</span>
                                <span class="text-indigo-600 font-bold w-2/3 text-right">MNC [cite: 82, 84]</span>
                            </div>
                            <div class="flex justify-between text-lg font-medium text-gray-700">
                                <span class="w-1/3">予想フォーメーション:</span>
                                <span class="text-indigo-600 font-bold w-2/3 text-right">4-2-3-1 [cite: 83, 85, 86]</span>
                            </div>
                            <div class="border-t pt-4">
                                <p class="text-lg font-bold text-gray-700">あなたの役割 [cite: 88]</p>
                                <p class="text-gray-600 ml-4">xxxxxx [cite: 87]</p>
                            </div>
                        </div>
                    </div>

                    <div class="lg:col-span-1 bg-white p-6 rounded-xl shadow-md h-full flex flex-col justify-between">
                        <div>
                            <h3 class="text-xl font-semibold mb-4 border-b pb-2 text-indigo-600">アクション</h3>
                            <button onclick="simulatePresentationCreation()" class="w-full bg-green-500 text-white py-2 rounded-md hover:bg-green-600 transition mb-4">資料を作成 [cite: 76]</button>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-2">AIに相談 [cite: 77]</h4>
                            <input type="text" id="ai-presentation-query" value="次の試合までに意識すべきことを教えて" [cite: 78] class="w-full border border-gray-300 p-2 rounded-md focus:ring-indigo-500 focus:border-indigo-500 mb-2">
                            <button onclick="simulateAIResponse('presentation')" class="w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 transition">AIに質問</button>
                        </div>
                        <div id="ai-presentation-response" class="mt-4 p-3 bg-gray-50 border border-gray-200 rounded-md text-sm hidden"></div>
                    </div>
                </div>
            </section>
            
            <section id="opponent" class="section-content hidden">
                <h2 class="text-3xl font-bold mb-6 text-gray-800">⚔️ 次の対戦相手</h2>
                <p class="mb-6 text-gray-600">次の対戦相手（MNC）の詳細な分析情報を提供します。対戦相手のフォーメーション、主要選手のデータ、戦術的な弱点などを表示し、試合への準備を支援します。</p>
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <h3 class="text-xl font-semibold mb-4 text-indigo-600">MNC (Next Opponent) 分析ダッシュボード</h3>
                    <p class="text-gray-500">このページでは、相手チームのデータに基づいた詳細な分析（例: 攻撃パターン、守備の弱点ヒートマップ、主要選手の傾向など）が表示されることが想定されています。</p>
                    <div class="h-40 bg-gray-100 mt-4 rounded-lg flex items-center justify-center text-gray-400">
                        対戦相手のAI分析データ（チャート、テキスト）エリア
                    </div>
                </div>
            </section>
        </div>
    </div>


    <script>
        
        const DATA = {
            profileSkills: {
                labels: ['テクニック', 'フィジカル', 'パス', '判断力', '戦術理解', 'スピード'],
                data: [3, 8, 9, 7, 6, 5], 
                backgroundColor: ['#e5e7eb', '#4f46e5', '#4f46e5', '#34d399', '#34d399', '#34d399'] 
            },
            playerStats: [
                { id: 'you', name: 'You [cite: 46]', A: 8, B: 7, C: 9, D: 6, E: 5, active: true },
                { id: 'team', name: 'Team 平均 [cite: 45]', A: 6, B: 6, C: 7, D: 6, E: 6, active: false },
                { id: 'A', name: 'A [cite: 47]', A: 9, B: 8, C: 5, D: 7, E: 6, active: false },
                { id: 'B', name: 'B [cite: 48]', A: 5, B: 4, C: 8, D: 8, E: 7, active: false },
                { id: 'C', name: 'C [cite: 49]', A: 7, B: 6, C: 7, D: 9, E: 8, active: false },
                { id: 'D', name: 'D [cite: 50]', A: 6, B: 7, C: 6, D: 7, E: 9, active: false },
                { id: 'E', name: 'E [cite: 51]', A: 8, B: 9, C: 5, D: 6, E: 7, active: false },
                { id: 'A2', name: 'A [cite: 52]', A: 9, B: 8, C: 5, D: 7, E: 6, active: false },
                { id: 'B2', name: 'B [cite: 53]', A: 5, B: 4, C: 8, D: 8, E: 7, active: false },
                { id: 'C2', name: 'C [cite: 54]', A: 7, B: 6, C: 7, D: 9, E: 8, active: false },
                { id: 'D2', name: 'D [cite: 55]', A: 6, B: 7, C: 6, D: 7, E: 9, active: false },
                { id: 'E2', name: 'E [cite: 56]', A: 8, B: 9, C: 5, D: 6, E: 7, active: false },
            ]
        };
        
        let skillChartInstance = null;
        
        function drawSkillChart() {
            const ctx = document.getElementById('skillChart').getContext('2d');
            if (skillChartInstance) {
                skillChartInstance.destroy();
            }
            
            skillChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: DATA.profileSkills.labels.map(l => l.length > 16 ? l.substring(0, 14) + '...' : l), 
                    datasets: [{
                        label: 'スキルレベル (10点満点)',
                        data: DATA.profileSkills.data,
                        backgroundColor: DATA.profileSkills.backgroundColor.map(color => color === '#e5e7eb' ? '#9ca3af' : color), // 弱みはグレー
                        borderColor: '#4f46e5',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y', 
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    label += context.raw;
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 10
                        },
                        y: {
                            ticks: {
                                autoSkip: false,
                                maxRotation: 0,
                                minRotation: 0
                            }
                        }
                    }
                }
            });
        }
        
        function renderPlayerStats() {
            const tbody = document.getElementById('player-stats-body');
            tbody.innerHTML = '';
            
            DATA.playerStats.forEach(player => {
                const row = tbody.insertRow();
                row.className = `border-b transition duration-150 ease-in-out cursor-pointer ${player.active ? 'bg-indigo-100 font-bold' : 'hover:bg-gray-50'}`;
                row.onclick = () => togglePlayerActive(player.id);
                
                row.insertCell().textContent = player.name;
                row.insertCell().textContent = player.A;
                row.insertCell().textContent = player.B;
                row.insertCell().textContent = player.C;
                row.insertCell().textContent = player.D;
                row.insertCell().textContent = player.E;
            });
        }
        
        function togglePlayerActive(id) {
            DATA.playerStats.forEach(p => p.active = (p.id === id));
            renderPlayerStats();
            // 選択されたプレイヤーのデータに基づいて、例えば強化すべきスキルリストを更新するロジックをここに追加
            const selectedPlayer = DATA.playerStats.find(p => p.id === id);
            if (selectedPlayer.id === 'you') {
                document.getElementById('suggestedSkills').innerHTML = '<li>・A：xxxxxxxxxxxxxxxxxxxxxxx [cite: 58]</li><li>・C：xxxxxxxxxxxxxxxxxxxxxxx [cite: 59]</li>';
            } else if (selectedPlayer.id === 'team') {
                document.getElementById('suggestedSkills').innerHTML = '<li>・チーム全体でBを強化すべきです。</li><li>・Eの連携を改善しましょう。</li>';
            } else {
                 document.getElementById('suggestedSkills').innerHTML = `<li>・${selectedPlayer.name} の弱点に基づいた提案。</li>`;
            }
        }
        
        function changeSection(sectionId) {
            document.querySelectorAll('.section-content').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionId).classList.remove('hidden');
            
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-section') === sectionId) {
                    item.classList.add('active');
                }
            });

            if (window.innerWidth < 1024) {
                document.getElementById('sidebar').classList.add('-translate-x-full');
            }
        }

        function simulateAIResponse(type) {
            let responseText = '';
            let inputId = '';
            let responseId = '';

            switch (type) {
                case 'team':
                    responseText = "AI提案: 4-2-2-2の現状の強みを活かしつつ、攻撃的なパスワークを強化するためには、守備的MFのビルドアップ能力が高い選手を軸にした4-3-3への移行も一案です。";
                    inputId = 'ai-team-query';
                    responseId = 'ai-team-response';
                    break;
                case 'training':
                    responseText = "AI提案: テクニック向上には、ボールタッチの回数を最大化する『マーカーコーンを使った細かなドリブル練習』を週に3回、1回あたり20分実施することを推奨します。";
                    inputId = 'ai-training-query';
                    responseId = 'ai-training-response';
                    break;
                case 'scene':
                    responseText = "AI分析: 〇〇分〇〇秒のシーンでは、CBであるあなたは、ボールを受けずにサイドの選手に任せてラインを押し上げるという判断が最も適切でした。リスクを回避し、守備を安定させることが優先です。";
                    inputId = 'ai-scene-query';
                    responseId = 'ai-scene-response';
                    break;
                case 'skill_menu':
                    responseText = "AI提案: 強化スキル（A/C）に対応したトレーニングメニューとして、『視野を広げるパス練習』と『ハイプレス状況下でのショートパスゲーム』を組み合わせた複合メニューを作成しました。";
                    responseId = 'ai-skill_menu-response';
                    break;
                case 'presentation':
                    responseText = "AI提案: 次の試合で意識すべきは、相手の予想フォーメーション(4-2-3-1)のサイドバック裏のスペースです。サイドハーフが内側に入り込む動きをチーム全体で意識し、そこを起点とした攻撃プランを提案すべきです。";
                    inputId = 'ai-presentation-query';
                    responseId = 'ai-presentation-response';
                    break;
            }

            document.getElementById(responseId).textContent = responseText;
            document.getElementById(responseId).classList.remove('hidden');
        }

        function simulatePresentationCreation() {
            alert('プレゼンテーション資料（PDF/PPTX形式）を作成し、ダウンロードリンクを生成しました。');
        }

        document.getElementById('menu-toggle').addEventListener('click', () => {
            document.getElementById('sidebar').classList.toggle('-translate-x-full');
        });

        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', (e) => {
                const section = e.currentTarget.getAttribute('data-section');
                changeSection(section);
            });
        });

        // 初期化処理
        drawSkillChart();
        renderPlayerStats();
        
    });
    </script>
</body>
</html>